# Generated by Django 5.1.7 on 2025-11-20 06:48

import Travel.models
import ckeditor.fields
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Activity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('details', models.TextField()),
                ('photo', models.ImageField(blank=True, null=True, upload_to='activities/')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('activity_type', models.CharField(choices=[('adventure', 'Adventure'), ('cultural', 'Cultural'), ('religious', 'Religious'), ('water_sports', 'Water Sports'), ('trekking', 'Trekking'), ('tour', 'Guided Tour'), ('entertainment', 'Entertainment'), ('shopping', 'Shopping'), ('dining', 'Dining'), ('wellness', 'Wellness'), ('other', 'Other')], default='tour', help_text='Type of activity', max_length=20)),
                ('difficulty_level', models.CharField(choices=[('easy', 'Easy'), ('moderate', 'Moderate'), ('difficult', 'Difficult'), ('expert', 'Expert')], default='moderate', help_text='Difficulty level of activity', max_length=20)),
                ('duration_hours', models.FloatField(default=2.0, help_text='Duration in hours')),
                ('max_participants', models.PositiveIntegerField(default=20, help_text='Maximum number of participants')),
                ('min_participants', models.PositiveIntegerField(default=1, help_text='Minimum number of participants')),
                ('age_restriction', models.CharField(blank=True, help_text="Age restrictions, if any (e.g., 'Minimum 18 years')", max_length=100, null=True)),
                ('contact_person', models.CharField(blank=True, help_text='Contact person for activity', max_length=255, null=True)),
                ('contact_phone', models.CharField(blank=True, help_text='Contact phone number', max_length=20, null=True)),
                ('meeting_point', models.CharField(blank=True, help_text='Meeting point/location', max_length=255, null=True)),
                ('inclusions', models.TextField(blank=True, help_text="What's included (e.g., guide, equipment, meals)", null=True)),
                ('exclusions', models.TextField(blank=True, help_text="What's not included", null=True)),
                ('website', models.URLField(blank=True, help_text='Activity website', null=True)),
            ],
            options={
                'verbose_name': 'Activity',
                'verbose_name_plural': 'Activities',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BankInformation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', ckeditor.fields.RichTextField()),
            ],
        ),
        migrations.CreateModel(
            name='BranchSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('branch_name', models.CharField(max_length=100)),
                ('location', models.CharField(max_length=150)),
                ('status', models.CharField(choices=[('Active', 'Active'), ('Inactive', 'Inactive')], default='Active', max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Currency',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('currency_name', models.CharField(max_length=100)),
                ('currency_rate', models.DecimalField(decimal_places=4, max_digits=10)),
                ('status', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Destinations',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100)),
                ('default_image', models.ImageField(blank=True, help_text='Default image for this destination', null=True, upload_to='destination_images/')),
                ('default_description', models.TextField(blank=True, help_text='Default itinerary description for this destination', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, editable=False)),
            ],
        ),
        migrations.CreateModel(
            name='InclusionType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="e.g., 'Airport Pickup', 'Spa Access'", max_length=255)),
                ('category', models.CharField(choices=[('amenity', 'Amenity/Service'), ('transport', 'Transportation'), ('food', 'Food & Beverage'), ('upgrade', 'Room Upgrade'), ('experience', 'Experience/Tour'), ('facility', 'Facility Access'), ('flexibility', 'Booking Flexibility'), ('activity', 'Activity'), ('other', 'Other')], max_length=20)),
                ('description', models.TextField(blank=True, help_text='What this inclusion provides')),
                ('icon', models.CharField(blank=True, help_text='FontAwesome icon class', max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Inclusion Type',
                'verbose_name_plural': 'Inclusion Types',
                'ordering': ['category', 'name'],
            },
        ),
        migrations.CreateModel(
            name='InvoiceLogo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(blank=True, null=True, upload_to='invoice_themes/')),
            ],
        ),
        migrations.CreateModel(
            name='InvoiceTerms',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', ckeditor.fields.RichTextField()),
            ],
        ),
        migrations.CreateModel(
            name='LeadSource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('source_name', models.CharField(max_length=255)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='OrganisationalSetting',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('organization_name', models.CharField(max_length=255)),
                ('email', models.EmailField(max_length=254, unique=True)),
                ('phone_number', models.CharField(max_length=20)),
                ('address', models.TextField()),
                ('gstn', models.CharField(max_length=50, verbose_name='GSTN')),
                ('state', models.CharField(max_length=100)),
                ('state_code', models.CharField(max_length=10)),
            ],
        ),
        migrations.CreateModel(
            name='PackageTemplateCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('icon', models.CharField(blank=True, help_text="Font Awesome icon class (e.g., 'fa-heart' for honeymoon)", max_length=50, null=True)),
                ('color_code', models.CharField(default='#007bff', help_text='Hex color code for category badge', max_length=7)),
                ('is_active', models.BooleanField(default=True)),
                ('display_order', models.PositiveIntegerField(default=0, help_text='Sort order for display')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Package Category',
                'verbose_name_plural': 'Package Categories',
                'ordering': ['display_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='PackageTerms',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('content', ckeditor.fields.RichTextField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='PackageTermss',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('special_inclusion', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Special Inclusion')),
                ('package_inclusion', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Package Inclusion')),
                ('package_exclusion', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Package Exclusion')),
                ('terms_and_conditions', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Terms and Conditions')),
                ('payment_policy', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Payment Policy')),
                ('cancellation_policy', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Cancellation Policy')),
                ('refund_policy', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='Refund After Cancellation')),
                ('list_of_documents', ckeditor.fields.RichTextField(blank=True, null=True, verbose_name='List of Documents Required')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(default=True, verbose_name='Active')),
            ],
            options={
                'verbose_name': 'Package Terms',
                'verbose_name_plural': 'Package Terms',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PackageTheme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('package_name', models.CharField(max_length=255)),
                ('image', models.ImageField(blank=True, null=True, upload_to='package_themes/')),
                ('status', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='RoomType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, unique=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, editable=False)),
            ],
        ),
        migrations.CreateModel(
            name='TeamMember',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=100)),
                ('last_name', models.CharField(max_length=100)),
                ('email', models.EmailField(db_index=True, max_length=254, unique=True)),
                ('password', models.CharField(max_length=255, null=True)),
                ('phone_number', models.CharField(max_length=15)),
                ('role', models.CharField(choices=[('admin', 'Admin'), ('manager', 'Manager'), ('staff', 'Staff'), ('cre', 'Cre')], max_length=20)),
                ('permissions', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, editable=False)),
                ('is_active', models.BooleanField(default=True)),
                ('last_login', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Team Member',
                'verbose_name_plural': 'Team Members',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ActivityPrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('per_person', models.DecimalField(decimal_places=2, max_digits=10)),
                ('activity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.activity')),
            ],
        ),
        migrations.AddField(
            model_name='activity',
            name='destination',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='activities', to='Travel.destinations'),
        ),
        migrations.CreateModel(
            name='Hotel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('category', models.CharField(choices=[('budget', 'Budget'), ('1star', '1 Star'), ('2star', '2 Star'), ('3star', '3 Star'), ('4star', '4 Star'), ('5star', '5 Star'), ('luxury', 'Luxury'), ('resort', 'Resort')], max_length=10)),
                ('details', models.TextField()),
                ('contact_person', models.CharField(max_length=255)),
                ('phone_number', models.CharField(max_length=20)),
                ('email', models.EmailField(max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20, null=True)),
                ('status', models.BooleanField(default=True)),
                ('image', models.ImageField(blank=True, null=True, upload_to='hotel_images/')),
                ('hotel_link', models.URLField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.destinations')),
            ],
        ),
        migrations.CreateModel(
            name='HotelImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(upload_to='hotel_images/')),
                ('hotel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='Travel.hotel')),
            ],
        ),
        migrations.CreateModel(
            name='Houseboat',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('details', models.TextField()),
                ('contact_person', models.CharField(max_length=255)),
                ('phone_number', models.CharField(max_length=15)),
                ('email', models.EmailField(max_length=254)),
                ('status', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('houseboat_type', models.CharField(choices=[('traditional', 'Traditional Houseboat'), ('luxury', 'Luxury Houseboat'), ('budget', 'Budget Houseboat'), ('premium', 'Premium Houseboat')], default='traditional', help_text='Type of houseboat', max_length=20)),
                ('length_meters', models.FloatField(default=15.0, help_text='Length of houseboat in meters')),
                ('total_capacity', models.PositiveIntegerField(default=20, help_text='Total number of people capacity')),
                ('num_cabins', models.PositiveIntegerField(default=5, help_text='Number of cabins/rooms')),
                ('num_bathrooms', models.PositiveIntegerField(default=5, help_text='Number of bathrooms')),
                ('image', models.ImageField(blank=True, help_text='Main image of houseboat', null=True, upload_to='houseboats/')),
                ('phone_alternate', models.CharField(blank=True, help_text='Alternate phone number', max_length=15, null=True)),
                ('website', models.URLField(blank=True, help_text='Houseboat website', null=True)),
                ('amenities', models.TextField(blank=True, help_text='List amenities (e.g., A/C, Hot water, WiFi, Kitchen, etc.)', null=True)),
                ('special_features', models.TextField(blank=True, help_text='Special features (e.g., Rooftop deck, Spa, Restaurant, etc.)', null=True)),
                ('registration_number', models.CharField(blank=True, help_text='Houseboat registration/license number', max_length=50, null=True, unique=True)),
                ('is_premium', models.BooleanField(default=False, help_text='Mark as premium listing')),
                ('maximum_stay_days', models.PositiveIntegerField(default=30, help_text='Maximum number of days for booking')),
                ('destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='houseboats', to='Travel.destinations')),
            ],
            options={
                'verbose_name': 'Houseboat',
                'verbose_name_plural': 'Houseboats',
                'db_table': 'houseboat',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='HouseboatImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(upload_to='houseboats/')),
                ('houseboat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='Travel.houseboat')),
            ],
        ),
        migrations.CreateModel(
            name='Itinerary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('travel_from', models.DateField(blank=True, null=True, verbose_name='Travel Start Date')),
                ('travel_to', models.DateField(blank=True, null=True, verbose_name='Travel End Date')),
                ('total_days', models.PositiveIntegerField(blank=True, null=True, verbose_name='Total Days')),
                ('adults', models.PositiveIntegerField(blank=True, null=True, verbose_name='Adults')),
                ('childrens', models.PositiveIntegerField(blank=True, null=True, verbose_name='Children')),
                ('infants', models.PositiveIntegerField(blank=True, null=True, verbose_name='Infants')),
                ('total_net_price', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('cgst_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('sgst_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('final_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed Amount (₹)'), ('percentage', 'Percentage (%)')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, help_text='Fixed amount or percentage rate', max_digits=10)),
                ('total_individual_markup', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('global_markup', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('is_finalized', models.BooleanField(default=False, verbose_name='Is Finalized')),
                ('finalized_at', models.DateTimeField(blank=True, null=True, verbose_name='Finalized At')),
                ('selected_option', models.CharField(blank=True, max_length=50, null=True, verbose_name='Selected Option')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('quoted', 'Quoted'), ('confirmed', 'Confirmed'), ('cancelled', 'Cancelled'), ('archived', 'Archived')], default='draft', max_length=10, verbose_name='Status')),
                ('archived_at', models.DateTimeField(blank=True, help_text='When this itinerary was moved to history/archived', null=True, verbose_name='Archived At')),
                ('archived_reason', models.CharField(blank=True, help_text="Why was this itinerary archived (e.g., 'Edited - dates changed', 'User cancelled')", max_length=255, null=True, verbose_name='Archive Reason')),
                ('destinations', models.ManyToManyField(blank=True, to='Travel.destinations')),
                ('parent_itinerary', models.ForeignKey(blank=True, help_text='Link to the original itinerary when editing creates a new version', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='versions', to='Travel.itinerary', verbose_name='Previous Version')),
            ],
            options={
                'verbose_name': 'Itinerary',
                'verbose_name_plural': 'Itineraries',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MealPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, unique=True)),
                ('status', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('hotel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.hotel')),
                ('created_by', models.ForeignKey(default=Travel.models.get_default_team_member, on_delete=django.db.models.deletion.CASCADE, to='Travel.teammember')),
            ],
        ),
        migrations.CreateModel(
            name='ItineraryDayPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('day_number', models.PositiveIntegerField()),
                ('title', models.CharField(help_text="e.g., 'Cochin to Munnar (135 Km, 3.00 Hrs)'", max_length=255)),
                ('description', models.TextField(help_text='Full day description')),
                ('image', models.ImageField(blank=True, help_text='Day illustration image', null=True, upload_to='day_plan_images/')),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('activities', models.ManyToManyField(blank=True, to='Travel.activity')),
                ('destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.destinations')),
                ('hotels', models.ManyToManyField(blank=True, to='Travel.hotel')),
                ('houseboats', models.ManyToManyField(blank=True, to='Travel.houseboat')),
                ('itinerary', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='day_plans', to='Travel.itinerary')),
                ('meal_plans', models.ManyToManyField(blank=True, to='Travel.mealplan')),
            ],
            options={
                'ordering': ['day_number'],
            },
        ),
        migrations.CreateModel(
            name='PackageTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text="Package name (e.g., 'Kerala Backwaters 5 Days')", max_length=255)),
                ('description', models.TextField(blank=True, help_text='Package overview and highlights', null=True)),
                ('from_date', models.DateField(blank=True, help_text='Package travel start date (when the trip begins)', null=True, verbose_name='Travel From Date')),
                ('to_date', models.DateField(blank=True, help_text='Package travel end date (when the trip ends)', null=True, verbose_name='Travel To Date')),
                ('available_from', models.DateField(blank=True, help_text='Package available from this date (optional)', null=True)),
                ('available_until', models.DateField(blank=True, help_text='Package available until this date (optional)', null=True)),
                ('total_days', models.PositiveIntegerField(help_text='Total number of days')),
                ('default_adults', models.PositiveIntegerField(default=2, help_text='Default number of adults')),
                ('default_children', models.PositiveIntegerField(default=0, help_text='Default number of children')),
                ('default_infants', models.PositiveIntegerField(default=0, help_text='Default number of infants')),
                ('notes', models.TextField(blank=True, help_text='Package notes and additional information', null=True)),
                ('cgst_percentage', models.DecimalField(decimal_places=2, default=Decimal('2.5'), help_text='CGST percentage (e.g., 2.5 for 2.5%)', max_digits=5)),
                ('sgst_percentage', models.DecimalField(decimal_places=2, default=Decimal('2.5'), help_text='SGST percentage (e.g., 2.5 for 2.5%)', max_digits=5)),
                ('discount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Flat discount amount (not percentage)', max_digits=10)),
                ('thumbnail', models.ImageField(blank=True, help_text='Package thumbnail image', null=True, upload_to='package_templates/')),
                ('cover_image', models.ImageField(blank=True, help_text='Cover image for package display', null=True, upload_to='package_templates/covers/')),
                ('highlights', ckeditor.fields.RichTextField(blank=True, help_text='Key features and highlights of this package', null=True, verbose_name='Package Highlights')),
                ('is_active', models.BooleanField(default=True, help_text='Is this package template available for use?')),
                ('is_featured', models.BooleanField(default=False, help_text='Show in featured/recommended packages')),
                ('is_finalized', models.BooleanField(default=False, help_text='Has pricing been finalized?')),
                ('finalized_at', models.DateTimeField(blank=True, help_text='When pricing was finalized', null=True)),
                ('times_used', models.PositiveIntegerField(default=0, help_text='Number of times this package was inserted')),
                ('last_used', models.DateTimeField(blank=True, help_text='Last time this package was used', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('tags', models.CharField(blank=True, help_text='Comma-separated tags (e.g., honeymoon, family, adventure)', max_length=500, null=True)),
                ('destinations', models.ManyToManyField(help_text='Destinations covered in this package', to='Travel.destinations')),
                ('theme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.packagetheme')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_packages', to='Travel.teammember')),
            ],
            options={
                'verbose_name': 'Package Template',
                'verbose_name_plural': 'Package Templates',
                'ordering': ['-is_featured', '-times_used', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PackageTemplateDayPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('day_number', models.PositiveIntegerField()),
                ('title', models.CharField(help_text="e.g., 'Cochin to Munnar (135 Km, 3.00 Hrs)'", max_length=255)),
                ('description', models.TextField(help_text='Detailed day description')),
                ('image', models.ImageField(blank=True, help_text='Day illustration image', null=True, upload_to='package_day_images/')),
                ('distance_km', models.PositiveIntegerField(blank=True, help_text='Distance to travel this day (in km)', null=True)),
                ('travel_hours', models.DecimalField(blank=True, decimal_places=1, help_text='Approximate travel time (in hours)', max_digits=4, null=True)),
                ('notes', models.TextField(blank=True, help_text='Internal notes for this day', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('activities', models.ManyToManyField(blank=True, help_text='Suggested activities', to='Travel.activity')),
                ('destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.destinations')),
                ('hotels', models.ManyToManyField(blank=True, help_text='Suggested hotels for this day', to='Travel.hotel')),
                ('houseboats', models.ManyToManyField(blank=True, help_text='Suggested houseboats', to='Travel.houseboat')),
                ('meal_plans', models.ManyToManyField(blank=True, help_text='Suggested meal plans', to='Travel.mealplan')),
                ('package_template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='day_plans', to='Travel.packagetemplate')),
            ],
            options={
                'verbose_name': 'Package Day Plan',
                'verbose_name_plural': 'Package Day Plans',
                'ordering': ['day_number'],
            },
        ),
        migrations.CreateModel(
            name='Query',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('client', 'Client'), ('agent', 'Agent'), ('corporate', 'Corporate')], max_length=20)),
                ('gender', models.CharField(choices=[('mr', 'Mr'), ('mrs', 'Mrs'), ('ms', 'Ms'), ('dr', 'Dr'), ('prof', 'Prof')], max_length=10)),
                ('client_name', models.CharField(max_length=255)),
                ('phone_number', models.CharField(max_length=15)),
                ('email', models.EmailField(max_length=254)),
                ('sector', models.CharField(choices=[('kerala', 'Kerala'), ('tamilnadu', 'Tamil Nadu')], max_length=20)),
                ('total_days', models.PositiveIntegerField()),
                ('from_date', models.DateField()),
                ('to_date', models.DateField(blank=True, null=True)),
                ('adult', models.PositiveIntegerField(blank=True, null=True)),
                ('childrens', models.PositiveIntegerField(blank=True, null=True)),
                ('infant', models.PositiveIntegerField(blank=True, null=True)),
                ('priority', models.CharField(choices=[('general', 'General'), ('hot', 'Hot')], max_length=10)),
                ('services', models.CharField(choices=[('activities', 'Activities Only'), ('flights', 'Flights Only'), ('full_package', 'Full Package'), ('hotel_flight', 'Hotel + Flight'), ('hotel_transport', 'Hotel + Transport'), ('hotel_only', 'Hotel Only'), ('transport_only', 'Transport Only'), ('visa_only', 'Visa Only')], max_length=20)),
                ('remark', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, editable=False)),
                ('lead_source', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.leadsource')),
                ('assign', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember')),
                ('created_by', models.ForeignKey(blank=True, help_text='Team member who created this query', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_queries', to='Travel.teammember')),
            ],
        ),
        migrations.AddField(
            model_name='itinerary',
            name='query',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itineraries', to='Travel.query'),
        ),
        migrations.CreateModel(
            name='Role',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('parent_selection', models.CharField(choices=[('Parent', 'Parent'), ('No Parent', 'No Parent')], max_length=20)),
                ('role_name', models.CharField(max_length=100)),
                ('status', models.BooleanField(default=True)),
                ('brand_name', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.branchsettings')),
            ],
        ),
        migrations.CreateModel(
            name='HouseboatPrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('one_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('two_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('three_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('four_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('five_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('six_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('seven_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('eight_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('nine_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('ten_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('extra_bed', models.DecimalField(decimal_places=1, max_digits=10)),
                ('houseboat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.houseboat')),
                ('meal_plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.mealplan')),
                ('room_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.roomtype')),
            ],
        ),
        migrations.CreateModel(
            name='HouseboatBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('check_in_date', models.DateField()),
                ('check_out_date', models.DateField()),
                ('num_one_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 1-Bed Rooms')),
                ('num_two_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 2-Bed Rooms')),
                ('num_three_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 3-Bed Rooms')),
                ('num_four_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 4-Bed Rooms')),
                ('num_five_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 5-Bed Rooms')),
                ('num_six_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 6-Bed Rooms')),
                ('num_seven_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 7-Bed Rooms')),
                ('num_eight_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 8-Bed Rooms')),
                ('num_nine_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 9-Bed Rooms')),
                ('num_ten_bed_rooms', models.PositiveIntegerField(default=0, verbose_name='Number of 10-Bed Rooms')),
                ('num_extra_beds', models.PositiveIntegerField(default=0, verbose_name='Number of Extra Beds')),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed Amount (₹)'), ('percentage', 'Percentage (%)')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('custom_one_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_two_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_three_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_four_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_five_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_six_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_seven_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_eight_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_nine_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_ten_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_extra_bed_hb_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('houseboat', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.houseboat')),
                ('itinerary', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.itinerary')),
                ('day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='houseboat_bookings', to='Travel.itinerarydayplan')),
                ('meal_plan', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.mealplan')),
                ('package_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='houseboat_bookings', to='Travel.packagetemplate')),
                ('package_day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='houseboat_bookings', to='Travel.packagetemplatedayplan')),
                ('room_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.roomtype')),
            ],
        ),
        migrations.CreateModel(
            name='Hotelprice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('double_bed', models.DecimalField(decimal_places=2, max_digits=10)),
                ('child_without_bed', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('child_with_bed', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('extra_bed', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hotel', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prices', to='Travel.hotel')),
                ('meal_plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.mealplan')),
                ('room_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.roomtype')),
            ],
        ),
        migrations.CreateModel(
            name='HotelBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(max_length=50)),
                ('option', models.CharField(choices=[('option_1', 'Option 1'), ('option_2', 'Option 2'), ('option_3', 'Option 3')], max_length=10)),
                ('num_rooms', models.PositiveIntegerField(default=0)),
                ('num_double_beds', models.PositiveIntegerField(default=0)),
                ('child_with_bed', models.PositiveIntegerField(default=0)),
                ('child_without_bed', models.PositiveIntegerField(default=0)),
                ('extra_beds', models.PositiveIntegerField(default=0)),
                ('check_in_date', models.DateField()),
                ('check_in_time', models.TimeField()),
                ('check_out_date', models.DateField()),
                ('check_out_time', models.TimeField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed'), ('percentage', 'Percentage')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('custom_double_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_extra_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_child_with_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('custom_child_without_bed_total', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.destinations')),
                ('hotel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.hotel')),
                ('itinerary', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.itinerary')),
                ('day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='hotel_bookings', to='Travel.itinerarydayplan')),
                ('meal_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.mealplan')),
                ('package_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='hotel_bookings', to='Travel.packagetemplate')),
                ('package_day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='hotel_bookings', to='Travel.packagetemplatedayplan')),
                ('room_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.roomtype')),
            ],
        ),
        migrations.CreateModel(
            name='SpecialInclusion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('inclusion_type', models.CharField(choices=[('hotel', 'Hotel'), ('houseboat', 'Houseboat'), ('general', 'General/Standalone')], max_length=10)),
                ('pricing_type', models.CharField(choices=[('free', 'Complimentary (Free)'), ('per_person', 'Per Person'), ('per_room', 'Per Room'), ('per_booking', 'Per Booking')], default='free', max_length=20)),
                ('adult_price', models.DecimalField(decimal_places=2, default=0, help_text='Price for adults', max_digits=10, verbose_name='Adult Price')),
                ('child_pricing_type', models.CharField(choices=[('same', 'Same as Adult'), ('percentage', 'Percentage of Adult Price'), ('fixed', 'Fixed Price'), ('free', 'Free for Children')], default='same', max_length=20, verbose_name='Child Pricing Type')),
                ('child_price_value', models.DecimalField(decimal_places=2, default=0, help_text='Fixed price OR percentage (e.g., 50 for 50%)', max_digits=10, verbose_name='Child Price/Percentage')),
                ('min_age', models.PositiveIntegerField(blank=True, help_text='Minimum age for this inclusion (leave empty if no restriction)', null=True)),
                ('max_age', models.PositiveIntegerField(blank=True, help_text='Maximum age for child pricing (e.g., 12)', null=True)),
                ('details', models.TextField()),
                ('photo', models.ImageField(blank=True, null=True, upload_to='inclusions/')),
                ('status', models.BooleanField(default=True)),
                ('is_available', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('destination', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.destinations')),
                ('hotel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='special_inclusions', to='Travel.hotel')),
                ('houseboat', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='special_inclusions', to='Travel.houseboat')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember')),
            ],
            options={
                'verbose_name': 'Special Inclusion',
                'verbose_name_plural': 'Special Inclusions',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='packagetemplatedayplan',
            name='general_inclusions',
            field=models.ManyToManyField(blank=True, limit_choices_to={'inclusion_type': 'general'}, related_name='package_day_plans', to='Travel.specialinclusion'),
        ),
        migrations.AddField(
            model_name='itinerarydayplan',
            name='inclusions',
            field=models.ManyToManyField(blank=True, to='Travel.specialinclusion'),
        ),
        migrations.CreateModel(
            name='InclusionPrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('per_person_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('inclusion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='seasonal_prices', to='Travel.specialinclusion')),
            ],
            options={
                'verbose_name': 'Inclusion Seasonal Price',
                'verbose_name_plural': 'Inclusion Seasonal Prices',
                'ordering': ['from_date'],
            },
        ),
        migrations.CreateModel(
            name='HouseboatBookingInclusion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('num_adults', models.PositiveIntegerField(default=0, verbose_name='Adults with this Inclusion')),
                ('num_children', models.PositiveIntegerField(default=0, verbose_name='Children with this Inclusion')),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Total Price for this Inclusion Item')),
                ('houseboat_booking', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inclusion_items', to='Travel.houseboatbooking')),
                ('special_inclusion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.specialinclusion')),
            ],
            options={
                'verbose_name': 'Houseboat Booking Inclusion',
                'verbose_name_plural': 'Houseboat Booking Inclusions',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='HotelBookingInclusion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('num_adults', models.PositiveIntegerField(default=0, verbose_name='Adults with this Inclusion')),
                ('num_children', models.PositiveIntegerField(default=0, verbose_name='Children with this Inclusion')),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Total Price for this Inclusion Item')),
                ('hotel_booking', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inclusion_items', to='Travel.hotelbooking')),
                ('special_inclusion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.specialinclusion')),
            ],
            options={
                'verbose_name': 'Hotel Booking Inclusion',
                'verbose_name_plural': 'Hotel Booking Inclusions',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('city', models.CharField(max_length=100)),
                ('company_name', models.CharField(db_index=True, max_length=255)),
                ('supplier_type', models.CharField(choices=[('hotel', 'Hotel'), ('activity', 'Activity'), ('vehicle', 'Vehicle'), ('houseboat', 'Houseboat'), ('standalone_inclusion', 'Special Inclusion'), ('other', 'Other')], default='other', help_text='Type of supplier service', max_length=30)),
                ('supplier_first_name', models.CharField(max_length=100)),
                ('supplier_last_name', models.CharField(max_length=100)),
                ('email', models.EmailField(db_index=True, max_length=254)),
                ('mobile_no', models.CharField(max_length=15)),
                ('phone_no', models.CharField(blank=True, max_length=15, null=True)),
                ('address', models.TextField()),
                ('state', models.CharField(blank=True, max_length=100, null=True)),
                ('postal_code', models.CharField(blank=True, max_length=10, null=True)),
                ('gst_number', models.CharField(blank=True, max_length=15, null=True, unique=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('is_verified', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, editable=False)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('notes', models.TextField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Supplier',
                'verbose_name_plural': 'Suppliers',
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['is_active', 'supplier_type'], name='Travel_supp_is_acti_413421_idx'), models.Index(fields=['company_name'], name='Travel_supp_company_f8cf33_idx')],
            },
        ),
        migrations.AddField(
            model_name='houseboat',
            name='supplier',
            field=models.ForeignKey(blank=True, help_text='Supplier who owns/manages this houseboat', limit_choices_to={'is_active': True, 'supplier_type': 'houseboat'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='houseboats', to='Travel.supplier'),
        ),
        migrations.AddField(
            model_name='hotel',
            name='supplier',
            field=models.ForeignKey(blank=True, help_text='Supplier who owns/manages this hotel', limit_choices_to={'is_active': True, 'supplier_type': 'hotel'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hotels', to='Travel.supplier'),
        ),
        migrations.AddField(
            model_name='activity',
            name='supplier',
            field=models.ForeignKey(blank=True, help_text='Supplier who provides this activity', limit_choices_to={'is_active': True, 'supplier_type': 'activity'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='activities', to='Travel.supplier'),
        ),
        migrations.CreateModel(
            name='StandaloneInclusionBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('booking_date', models.DateField(help_text='Date when this activity/service is scheduled')),
                ('booking_time', models.TimeField(blank=True, help_text='Scheduled time for the activity', null=True)),
                ('num_adults', models.PositiveIntegerField(default=1, help_text='Number of adults participating')),
                ('num_children', models.PositiveIntegerField(default=0, help_text='Number of children participating')),
                ('adult_unit_price', models.DecimalField(decimal_places=2, help_text='Price per adult at time of booking', max_digits=10)),
                ('child_unit_price', models.DecimalField(decimal_places=2, default=0, help_text='Price per child at time of booking', max_digits=10)),
                ('subtotal', models.DecimalField(decimal_places=2, help_text='Total before markup', max_digits=10)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed'), ('percentage', 'Percentage')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_price', models.DecimalField(decimal_places=2, help_text='Final price after markup', max_digits=10)),
                ('notes', models.TextField(blank=True, help_text='Special instructions or notes')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='standalone_inclusions', to='Travel.itinerarydayplan')),
                ('itinerary', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='standalone_inclusions', to='Travel.itinerary')),
                ('package_day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='standalone_inclusions', to='Travel.packagetemplatedayplan')),
                ('package_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='standalone_inclusions', to='Travel.packagetemplate')),
                ('special_inclusion', models.ForeignKey(help_text='Only general/standalone inclusions can be booked', limit_choices_to={'inclusion_type': 'general'}, on_delete=django.db.models.deletion.CASCADE, to='Travel.specialinclusion')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember')),
            ],
            options={
                'verbose_name': 'Standalone Inclusion Booking',
                'verbose_name_plural': 'Standalone Inclusion Bookings',
                'ordering': ['booking_date', 'booking_time'],
            },
        ),
        migrations.AddField(
            model_name='packagetheme',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.AddField(
            model_name='leadsource',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.AddField(
            model_name='itinerary',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_itineraries', to='Travel.teammember', verbose_name='Created By'),
        ),
        migrations.AddField(
            model_name='houseboat',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.AddField(
            model_name='hotel',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.CreateModel(
            name='DayItinerary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('details', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itineraries', to='Travel.destinations')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember')),
            ],
        ),
        migrations.AddField(
            model_name='branchsettings',
            name='created_by',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.AddField(
            model_name='activity',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember'),
        ),
        migrations.CreateModel(
            name='Vehicle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('details', models.TextField()),
                ('photo', models.ImageField(blank=True, null=True, upload_to='vehicle_photos/')),
                ('status', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('vehicle_type', models.CharField(choices=[('car', 'Car'), ('suv', 'SUV'), ('van', 'Van'), ('bus', 'Bus'), ('truck', 'Truck'), ('tempo', 'Tempo'), ('auto', 'Auto')], default='car', help_text='Type of vehicle', max_length=20)),
                ('capacity', models.PositiveIntegerField(default=4, help_text='Number of seats/capacity')),
                ('registration_number', models.CharField(blank=True, help_text='Vehicle registration number', max_length=50, null=True, unique=True)),
                ('contact_person', models.CharField(blank=True, help_text='Driver or contact person name', max_length=255, null=True)),
                ('contact_phone', models.CharField(blank=True, help_text='Driver or contact phone number', max_length=20, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='Travel.teammember')),
                ('destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.destinations')),
                ('supplier', models.ForeignKey(blank=True, help_text='Supplier who owns/manages this vehicle', limit_choices_to={'is_active': True, 'supplier_type': 'vehicle'}, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vehicles', to='Travel.supplier')),
            ],
            options={
                'verbose_name': 'Vehicle',
                'verbose_name_plural': 'Vehicles',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='packagetemplatedayplan',
            name='vehicles',
            field=models.ManyToManyField(blank=True, help_text='Suggested vehicles', to='Travel.vehicle'),
        ),
        migrations.AddField(
            model_name='itinerarydayplan',
            name='vehicles',
            field=models.ManyToManyField(blank=True, to='Travel.vehicle'),
        ),
        migrations.CreateModel(
            name='VehicleBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('pickup_date', models.DateField()),
                ('pickup_time', models.TimeField()),
                ('total_km', models.PositiveIntegerField(default=0, help_text='Total kilometers for this booking')),
                ('num_passengers', models.IntegerField()),
                ('vehicle_type', models.CharField(max_length=100)),
                ('option', models.CharField(max_length=50)),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed Amount (₹)'), ('percentage', 'Percentage (%)')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('custom_total_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='vehicle_bookings', to='Travel.itinerarydayplan')),
                ('destination', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.destinations')),
                ('itinerary', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.itinerary')),
                ('package_day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='vehicle_bookings', to='Travel.packagetemplatedayplan')),
                ('package_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='vehicle_bookings', to='Travel.packagetemplate')),
                ('vehicle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.vehicle')),
            ],
        ),
        migrations.CreateModel(
            name='VehiclePricing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('from_date', models.DateField()),
                ('to_date', models.DateField()),
                ('type', models.CharField(choices=[('PVT', 'Private')], default='PVT', max_length=3)),
                ('total_fee_100km', models.DecimalField(decimal_places=2, max_digits=10)),
                ('extra_fee_per_km', models.DecimalField(decimal_places=2, max_digits=10)),
                ('is_active', models.BooleanField(default=True)),
                ('vehicle', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.vehicle')),
            ],
        ),
        migrations.CreateModel(
            name='ItineraryPricingOption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('option_name', models.CharField(max_length=50)),
                ('option_number', models.PositiveIntegerField()),
                ('vehicle_type', models.CharField(default='A/C Ertiga', help_text='Type of vehicle', max_length=100)),
                ('number_of_rooms', models.PositiveIntegerField(default=1)),
                ('extra_beds', models.PositiveIntegerField(default=0)),
                ('child_without_bed', models.PositiveIntegerField(default=0)),
                ('child_with_bed', models.PositiveIntegerField(default=0)),
                ('child_ages', models.CharField(blank=True, help_text="e.g., '5, 8, 12'", max_length=100, null=True)),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('cgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('sgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('final_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('hotels_included', models.JSONField(default=list)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('itinerary', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pricing_options', to='Travel.itinerary')),
            ],
            options={
                'ordering': ['option_number'],
                'unique_together': {('itinerary', 'option_number')},
            },
        ),
        migrations.CreateModel(
            name='PackagePricingOption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('option_name', models.CharField(max_length=50)),
                ('option_number', models.PositiveIntegerField()),
                ('vehicle_type', models.CharField(default='A/C Ertiga', help_text='Type of vehicle', max_length=100)),
                ('number_of_rooms', models.PositiveIntegerField(default=1)),
                ('extra_beds', models.PositiveIntegerField(default=0)),
                ('child_without_bed', models.PositiveIntegerField(default=0)),
                ('child_with_bed', models.PositiveIntegerField(default=0)),
                ('child_ages', models.CharField(blank=True, help_text="e.g., '5, 8, 12'", max_length=100, null=True)),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('cgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('sgst_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('discount_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('final_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('hotels_included', models.JSONField(blank=True, default=list)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('package_template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pricing_options', to='Travel.packagetemplate')),
            ],
            options={
                'ordering': ['option_number'],
                'unique_together': {('package_template', 'option_number')},
            },
        ),
        migrations.CreateModel(
            name='ActivityBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('booking_date', models.DateField(blank=True, null=True)),
                ('booking_time', models.TimeField(blank=True, null=True)),
                ('num_adults', models.PositiveIntegerField(default=1)),
                ('num_children', models.PositiveIntegerField(default=0)),
                ('confirmation_number', models.CharField(blank=True, max_length=100, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('net_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_type', models.CharField(choices=[('fixed', 'Fixed Amount (₹)'), ('percentage', 'Percentage (%)')], default='fixed', max_length=10)),
                ('markup_value', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_amount', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('markup_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('gross_price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('custom_total_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('activity', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='Travel.activity')),
                ('itinerary', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='Travel.itinerary')),
                ('day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='activity_bookings', to='Travel.itinerarydayplan')),
                ('package_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='activity_bookings', to='Travel.packagetemplate')),
                ('package_day_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='activity_bookings', to='Travel.packagetemplatedayplan')),
            ],
            options={
                'constraints': [models.CheckConstraint(condition=models.Q(models.Q(('itinerary__isnull', False), ('package_template__isnull', True)), models.Q(('itinerary__isnull', True), ('package_template__isnull', False)), _connector='OR'), name='activity_booking_itinerary_or_package')],
            },
        ),
        migrations.AddConstraint(
            model_name='houseboatbooking',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('itinerary__isnull', False), ('package_template__isnull', True)), models.Q(('itinerary__isnull', True), ('package_template__isnull', False)), _connector='OR'), name='houseboat_booking_itinerary_or_package'),
        ),
        migrations.AddConstraint(
            model_name='hotelbooking',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('itinerary__isnull', False), ('package_template__isnull', True)), models.Q(('itinerary__isnull', True), ('package_template__isnull', False)), _connector='OR'), name='hotel_booking_itinerary_or_package'),
        ),
        migrations.AddConstraint(
            model_name='standaloneinclusionbooking',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('itinerary__isnull', False), ('package_template__isnull', True)), models.Q(('itinerary__isnull', True), ('package_template__isnull', False)), _connector='OR'), name='standalone_inclusion_itinerary_or_package'),
        ),
        migrations.AddIndex(
            model_name='packagetemplate',
            index=models.Index(fields=['is_active', 'is_featured'], name='Travel_pack_is_acti_826207_idx'),
        ),
        migrations.AddIndex(
            model_name='packagetemplate',
            index=models.Index(fields=['-times_used'], name='Travel_pack_times_u_790941_idx'),
        ),
        migrations.AddIndex(
            model_name='itinerary',
            index=models.Index(fields=['status', '-created_at'], name='Travel_itin_status_632a5f_idx'),
        ),
        migrations.AddIndex(
            model_name='itinerary',
            index=models.Index(fields=['parent_itinerary', 'status'], name='Travel_itin_parent__038e7c_idx'),
        ),
        migrations.AddIndex(
            model_name='itinerary',
            index=models.Index(fields=['query', 'status'], name='Travel_itin_query_i_bc5e81_idx'),
        ),
        migrations.AddIndex(
            model_name='houseboat',
            index=models.Index(fields=['status', 'destination'], name='houseboat_status_0b8542_idx'),
        ),
        migrations.AddIndex(
            model_name='houseboat',
            index=models.Index(fields=['supplier'], name='houseboat_supplie_db5074_idx'),
        ),
        migrations.AddIndex(
            model_name='houseboat',
            index=models.Index(fields=['houseboat_type'], name='houseboat_housebo_790aab_idx'),
        ),
        migrations.AddIndex(
            model_name='activity',
            index=models.Index(fields=['is_active', 'destination'], name='Travel_acti_is_acti_bc1fc0_idx'),
        ),
        migrations.AddIndex(
            model_name='activity',
            index=models.Index(fields=['activity_type'], name='Travel_acti_activit_4b37c0_idx'),
        ),
        migrations.AddIndex(
            model_name='activity',
            index=models.Index(fields=['supplier'], name='Travel_acti_supplie_910628_idx'),
        ),
        migrations.AddIndex(
            model_name='vehicle',
            index=models.Index(fields=['status', 'destination'], name='Travel_vehi_status_dcd66e_idx'),
        ),
        migrations.AddIndex(
            model_name='vehicle',
            index=models.Index(fields=['supplier'], name='Travel_vehi_supplie_afdfa5_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='packagetemplatedayplan',
            unique_together={('package_template', 'day_number')},
        ),
        migrations.AlterUniqueTogether(
            name='itinerarydayplan',
            unique_together={('itinerary', 'day_number')},
        ),
        migrations.AddConstraint(
            model_name='vehiclebooking',
            constraint=models.CheckConstraint(condition=models.Q(models.Q(('itinerary__isnull', False), ('package_template__isnull', True)), models.Q(('itinerary__isnull', True), ('package_template__isnull', False)), _connector='OR'), name='vehicle_booking_itinerary_or_package'),
        ),
    ]
